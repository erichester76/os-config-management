<!-- templates/os_config_management/osconfig_edit.html -->
{% extends 'generic/object_edit.html' %}
{% load static %}
{% load form_helpers %}

{% block title %}
  {% if object %}Edit OSConfig: {{ object.name }}{% else %}Create New OSConfig{% endif %}
{% endblock %}

{% block form %}
  <div class="card">
    <div class="card-header">
      <h3>OSConfig Details</h3>
    </div>
    <div class="card-body">
      {% if form %}
        {% csrf_token %}
        {{ form.as_p }}
      {% else %}
        <p class="text-danger">Error: Form is not available.</p>
      {% endif %}
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-header">
      <h3>Config Sets</h3>
    </div>
    <div class="card-body">
      {% if form.config_sets %}
        <div class="form-group">
          {{ form.config_sets.label_tag }}
          {{ form.config_sets }}
          {% if form.config_sets.errors %}
            <div class="invalid-feedback d-block">
              {{ form.config_sets.errors }}
            </div>
          {% endif %}
        </div>
      {% else %}
        <p class="text-danger">Error: Config Sets field is not available.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}